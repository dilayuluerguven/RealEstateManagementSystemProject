<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h5 class="mb-0">Taşınmaz Listesi</h5>

    <button class="btn btn-success" routerLink="/core/tasinmaz/add">
      <i class="bi bi-plus-circle me-1"></i>
      Yeni taşınmaz
    </button>
  </div>
  <table class="table table-bordered table-hover">
    <thead class="table-light">
      <tr>
        <th class="text-nowrap">
          <input
            class="form-check-input me-1"
            type="checkbox"
            [checked]="isAllSelected()"
            (change)="toggleSelectAll($event)"
          />
          Hepsini Seç
        </th>
        <th *ngIf="isAdmin">User Id</th>
        <th>İl</th>
        <th>İlçe</th>
        <th>Mahalle</th>
        <th>Nitelik</th>
        <th>Ada</th>
        <th>Parsel</th>
        <th>Adres</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let item of tasinmazlar">
        <td>
          <input
            class="form-check-input"
            type="checkbox"
            [checked]="isSelected(item)"
            (change)="toggleItem(item)"
          />
        </td>
        <td *ngIf="isAdmin">{{ item.userId }}</td>

        <td>{{ item.ilAdi }}</td>
        <td>{{ item.ilceAdi }}</td>
        <td>{{ item.mahalleAdi }}</td>
        <td>{{ item.emlakTipi }}</td>
        <td>{{ item.ada }}</td>
        <td>{{ item.parsel }}</td>
        <td>{{ item.adres }}</td>
      </tr>
    </tbody>
  </table>

  <div class="d-flex justify-content-between align-items-center mt-3 px-1">
    <span class="text-muted small">
      Seçili taşınmaz: <strong>{{ selectedTasinmazlar.length }}</strong>
    </span>

    <div class="btn-group">
      <button
        class="btn btn-outline-danger"
        (click)="deleteSelected()"
        [disabled]="selectedTasinmazlar.length === 0"
      >
        <i class="bi bi-trash me-1"></i>
        {{ deleteButtonText }}
      </button>

      <button
        class="btn btn-outline-primary"
        (click)="goToUpdate()"
        [disabled]="selectedTasinmazlar.length !== 1"
      >
        <i class="bi bi-pencil-square me-1"></i>
        Güncelle
      </button>
    </div>
  </div>
</div>

<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h5 class="mb-0">Kullanıcı Listesi</h5>

    <button class="btn btn-success" routerLink="/core/admin/add">
      <i class="bi bi-plus-circle me-1"></i>
      Yeni Kullanıcı
    </button>
  </div>

  <table class="table table-bordered table-hover">
    <thead class="table-light">
      <tr>
        <th class="text-nowrap">
          <input
            class="form-check-input me-1"
            type="checkbox"
            [checked]="isAllSelected()"
            (change)="toggleSelectAll($event)"
          />
          Hepsini Seç
        </th>
        <th>Id</th>
        <th>Adı-Soyadı</th>
        <th>Email</th>
        <th>Rol</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let user of users">
        <td>
          <input
            class="form-check-input"
            type="checkbox"
            [checked]="isSelected(user)"
            (change)="toggleUser(user)"
          />
        </td>
        <td>{{ user.id }}</td>
        <td>{{user.adSoyad}}</td>
        <td>{{ user.email }}</td>
        <td>
          <span
            class="badge"
            [ngClass]="user.rol === 'Admin' ? 'bg-danger' : 'bg-secondary'"
          >
            {{ user.rol }}
          </span>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="d-flex justify-content-between align-items-center mt-3 px-1">
    <span class="text-muted small">
      Seçili kullanıcı: <strong>{{ selectedUsers.length }}</strong>
    </span>

    <div class="btn-group action-buttons">
      <button
        class="btn btn-outline-danger"
        (click)="deleteSelected()"
        [disabled]="selectedUsers.length === 0"
      >
        <i class="bi bi-trash me-1"></i>
        {{ deleteButtonText }}
      </button>

      <button
        class="btn btn-outline-primary"
        (click)="goToUpdate()"
        [disabled]="selectedUsers.length !== 1"
      >
        <i class="bi bi-pencil-square me-1"></i>
        Güncelle
      </button>
    </div>
  </div>
</div>
